<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Yamkela Lusithi | MoneySave Jr</title>

    <!-- Main stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Budget Section -->
    <section id="budget" class="budget-section">
        <div class="budget-container">

            <!-- Heading with emoji -->
            <h2 class="budget-heading">
                <img src="images/yummy-emoji.gif" width="50" alt="Yummy Emoji">
                Let's Build Your Weekly Budget
            </h2>

            <!-- Intro paragraph -->
            <p class="budget-intro">
                Enter your allowance and plan your spending. Make sure your money works for you, not against you, Kiddo.
            </p>

            <!-- Weekly allowance input -->
            <label for="allowance"><strong>Weekly Allowance (R):</strong></label>
            <input type="number" id="allowance" placeholder="e.g. 50" class="budget-input" />

            <!-- Budget table -->
            <table class="budget-table">
                <thead>
                    <tr>
                        <th>Item/Category</th>
                        <th>Planned Amount (R)</th>
                        <th>Need or Want?</th>
                        <th>Notes</th>
                    </tr>
                </thead>
                <tbody id="budgetTable">
                    <!-- Example row -->
                    <tr>
                        <td><input type="text" placeholder="e.g. Lunch"></td>
                        <td><input type="number" class="budgetAmount"></td>
                        <td>
                            <select class="budgetType">
                                <option value="">--</option>
                                <option value="Need">Need</option>
                                <option value="Want">Want</option>
                            </select>
                        </td>
                        <td><input type="text" placeholder="Plan details"></td>
                    </tr>

                    <!-- Additional blank rows for user input -->
                    <tr>
                        <td><input type="text"></td>
                        <td><input type="number" class="budgetAmount"></td>
                        <td>
                            <select class="budgetType">
                                <option value="">--</option>
                                <option value="Need">Need</option>
                                <option value="Want">Want</option>
                            </select>
                        </td>
                        <td><input type="text"></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td><input type="number" class="budgetAmount"></td>
                        <td>
                            <select class="budgetType">
                                <option value="">--</option>
                                <option value="Need">Need</option>
                                <option value="Want">Want</option>
                            </select>
                        </td>
                        <td><input type="text"></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td><input type="number" class="budgetAmount"></td>
                        <td>
                            <select class="budgetType">
                                <option value="">--</option>
                                <option value="Need">Need</option>
                                <option value="Want">Want</option>
                            </select>
                        </td>
                        <td><input type="text"></td>
                    </tr>
                    <tr>
                        <td><input type="text"></td>
                        <td><input type="number" class="budgetAmount"></td>
                        <td>
                            <select class="budgetType">
                                <option value="">--</option>
                                <option value="Need">Need</option>
                                <option value="Want">Want</option>
                            </select>
                        </td>
                        <td><input type="text"></td>
                    </tr>
                </tbody>
            </table>

            <!-- Calculate button -->
            <button class="calculate-btn" onclick="calculateBudget()">Calculate Budget</button>

            <!-- Results and tips -->
            <div id="budgetResults" class="budget-results"></div>
            <div id="budgetTip" class="budget-tip"></div>

        </div>
    </section>

    <!-- Budget calculation script -->
    <script>
        function calculateBudget() {
            // Get user allowance
            const allowance = parseFloat(document.getElementById("allowance").value);
            const amounts = document.querySelectorAll(".budgetAmount");
            const types = document.querySelectorAll(".budgetType");

            let totalPlanned = 0;
            let wantTotal = 0;
            let needTotal = 0;

            // Calculate totals for Needs and Wants
            for (let i = 0; i < amounts.length; i++) {
                const amount = parseFloat(amounts[i].value);
                const type = types[i].value;

                if (!isNaN(amount)) {
                    totalPlanned += amount;
                    if (type === "Want") wantTotal += amount;
                    else if (type === "Need") needTotal += amount;
                }
            }

            const resultsBox = document.getElementById("budgetResults");

            // Validate allowance
            if (isNaN(allowance) || allowance <= 0) {
                resultsBox.innerText = "Please enter a valid allowance.";
                return;
            }

            // Calculate percentages and remaining amount
            const wantPercent = ((wantTotal / totalPlanned) * 100).toFixed(1);
            const needPercent = ((needTotal / totalPlanned) * 100).toFixed(1);
            const difference = (allowance - totalPlanned).toFixed(2);

            // Show budget results
            resultsBox.innerHTML = `
                Your total planned budget: <strong>R${totalPlanned.toFixed(2)}</strong><br>
                Needs: R${needTotal.toFixed(2)} (${needPercent}%)<br>
                Wants: R${wantTotal.toFixed(2)} (${wantPercent}%)<br>
                ${difference < 0 ? "âš ï¸ You are <strong>R" + Math.abs(difference) + "</strong> over budget. Try to cut some Wants." : "ðŸŸ¢ You have <strong>R" + difference + "</strong> left to save or spend wisely."}
            `;

            // Display a random budgeting tip
            const tips = [
                "Always save first â€” treat it like a bill.",
                "Wants are fun, but balance is power.",
                "Use leftover money to grow your savings jar.",
                "Budgeting gives you more control â€” not less fun!",
                "Check your budget before you spend â€” not after."
            ];
            const randomTip = tips[Math.floor(Math.random() * tips.length)];
            document.getElementById("budgetTip").innerText = "ðŸ’¡ Tip: " + randomTip;
        }
    </script>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="footer-content">
            <p>Created by Yamkela Lusithi</p>
            <p>MoneySave Jr Â© 2025</p>
        </div>
    </footer>

</body>
</html>

